{% extends "lac/base.html" %}
{% block content %}
<h2>{% trans "Add new TOTP-Device" %}</h2>

<form method="post">{% csrf_token %}
    <h2>{% pgettext "Heading: Device name" "Device name" %}</h2>
    <p>{% trans "Enter a name for the device to identify it." %}</p>
    <label for="device_name">{% pgettext "Label: Device name" "Device name" %}:</label>
    <input type="text" id="device_name" name="device_name", value="{{ device_name }}">

    <h2>{% trans "Scan QR-Code" %}</h2>
    <p>{% trans "Scan the QR-Code with your authenticator app." %}</p>
    <img src="{{ img }}" alt="QR" style="width: 15rem"/>

    <h2>{% trans "Manual input" %}</h2>
    <p>{% trans "If you cannot scan the QR code, please enter the following key into your authenticator app" %}:</p>
    <p>{{ base32_code }}</p>

    <h2>{% trans "Confirm code" %}</h2>
    <p>{% trans "Enter the code generated by your authenticator app." %}</p>

    <label for="totp_code">{% trans "TOTP-Code (6-digit)" %}</label>
    <input type="text" id="totp_code" name="totp_code">
    <div class="grid">
        <div>
            <a href="{% url "otp_settings" %}"role="button" class="secondary" style="display: block;">{% trans "Back" %}</a>
        </div>
        <input type="submit" value="{% trans 'Add device' %}">
    </div>
</form>

{% endblock %}